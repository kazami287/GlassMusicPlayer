import{t as R,w as Q,a as $,b as q,i as G,c as U,d as I,e as X,u as Y,p as V,f as Z}from"./@vueuse_shared@12.5.0_typescript@5.6.3-CYuF3qNP.js";import{l as C,w as J,m as ee,n as te,j as ne,p as ae,q as oe}from"./@vue_runtime-core@3.5.13-D0UggR25.js";import{q as D,u as A,v as re,x as B,y as se}from"./@vue_reactivity@3.5.13-DVqfZfgJ.js";const N=G?window:void 0;function H(e){var r;const t=A(e);return(r=t==null?void 0:t.$el)!=null?r:t}function x(...e){const r=[],t=()=>{r.forEach(n=>n()),r.length=0},u=(n,s,i,f)=>(n.addEventListener(s,i,f),()=>n.removeEventListener(s,i,f)),a=C(()=>{const n=R(A(e[0])).filter(s=>s!=null);return n.every(s=>typeof s!="string")?n:void 0}),d=Q(()=>{var n,s;return[(s=(n=a.value)==null?void 0:n.map(i=>H(i)))!=null?s:[N].filter(i=>i!=null),R(A(a.value?e[1]:e[0])),R(re(a.value?e[2]:e[1])),A(a.value?e[3]:e[2])]},([n,s,i,f])=>{if(t(),!(n!=null&&n.length)||!(s!=null&&s.length)||!(i!=null&&i.length))return;const p=U(f)?{...f}:f;r.push(...n.flatMap(g=>s.flatMap(h=>i.map(m=>u(g,h,m,p)))))},{flush:"post"}),c=()=>{d(),t()};return I(t),c}function ue(){const e=D(!1),r=ne();return r&&ee(()=>{e.value=!0},r),e}function P(e){const r=ue();return C(()=>(r.value,!!e()))}function ie(e,r={}){const{immediate:t=!0,fpsLimit:u=void 0,window:a=N}=r,d=D(!1),c=C(()=>u?1e3/A(u):null);let n=0,s=null;function i(g){if(!d.value||!a)return;n||(n=g);const h=g-n;if(c.value&&h<c.value){s=a.requestAnimationFrame(i);return}n=g,e({delta:h,timestamp:g}),s=a.requestAnimationFrame(i)}function f(){!d.value&&a&&(d.value=!0,n=0,s=a.requestAnimationFrame(i))}function p(){d.value=!1,s!=null&&a&&(a.cancelAnimationFrame(s),s=null)}return t&&f(),I(p),{isActive:se(d),pause:p,resume:f}}const le=Symbol("vueuse-ssr-width");function ce(){const e=oe()?Z(le,null):null;return typeof e=="number"?e:void 0}function de(e,r={}){const{window:t=N,ssrWidth:u=ce()}=r,a=P(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),d=D(typeof u=="number"),c=B(),n=D(!1),s=i=>{n.value=i.matches};return ae(()=>{if(d.value){d.value=!a.value;const i=A(e).split(",");n.value=i.some(f=>{const p=f.includes("not all"),g=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(g||h);return g&&m&&(m=u>=V(g[1])),h&&m&&(m=u<=V(h[1])),p?!m:m});return}a.value&&(c.value=t.matchMedia(A(e)),n.value=c.value.matches)}),x(c,"change",s,{passive:!0}),C(()=>n.value)}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z="__vueuse_ssr_handlers__",fe=me();function me(){return z in j||(j[z]=j[z]||{}),j[z]}function K(e,r){return fe[e]||r}function ve(e){return de("(prefers-color-scheme: dark)",e)}function pe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const he={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},_="vueuse-storage";function ge(e,r,t,u={}){var a;const{flush:d="pre",deep:c=!0,listenToStorageChanges:n=!0,writeDefaults:s=!0,mergeDefaults:i=!1,shallow:f,window:p=N,eventFilter:g,onError:h=o=>{console.error(o)},initOnMounted:m}=u,y=(f?B:D)(typeof r=="function"?r():r),S=C(()=>A(e));if(!t)try{t=K("getDefaultStorage",()=>{var o;return(o=N)==null?void 0:o.localStorage})()}catch(o){h(o)}if(!t)return y;const b=A(r),L=pe(b),E=(a=u.serializer)!=null?a:he[L],{pause:w,resume:M}=X(y,()=>O(y.value),{flush:d,deep:c,eventFilter:g});J(S,()=>k(),{flush:d}),p&&n&&q(()=>{t instanceof Storage?x(p,"storage",k,{passive:!0}):x(p,_,T),m&&k()}),m||k();function F(o,l){if(p){const v={key:S.value,oldValue:o,newValue:l,storageArea:t};p.dispatchEvent(t instanceof Storage?new StorageEvent("storage",v):new CustomEvent(_,{detail:v}))}}function O(o){try{const l=t.getItem(S.value);if(o==null)F(l,null),t.removeItem(S.value);else{const v=E.write(o);l!==v&&(t.setItem(S.value,v),F(l,v))}}catch(l){h(l)}}function W(o){const l=o?o.newValue:t.getItem(S.value);if(l==null)return s&&b!=null&&t.setItem(S.value,E.write(b)),b;if(!o&&i){const v=E.read(l);return typeof i=="function"?i(v,b):L==="object"&&!Array.isArray(v)?{...b,...v}:v}else return typeof l!="string"?l:E.read(l)}function k(o){if(!(o&&o.storageArea!==t)){if(o&&o.key==null){y.value=b;return}if(!(o&&o.key!==S.value)){w();try{(o==null?void 0:o.newValue)!==E.write(y.value)&&(y.value=W(o))}catch(l){h(l)}finally{o?te(M):M()}}}}function T(o){k(o.detail)}return y}const we="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ye(e={}){const{selector:r="html",attribute:t="class",initialValue:u="auto",window:a=N,storage:d,storageKey:c="vueuse-color-scheme",listenToStorageChanges:n=!0,storageRef:s,emitAuto:i,disableTransition:f=!0}=e,p={auto:"",light:"light",dark:"dark",...e.modes||{}},g=ve({window:a}),h=C(()=>g.value?"dark":"light"),m=s||(c==null?$(u):ge(c,u,d,{window:a,listenToStorageChanges:n})),y=C(()=>m.value==="auto"?h.value:m.value),S=K("updateHTMLAttrs",(w,M,F)=>{const O=typeof w=="string"?a==null?void 0:a.document.querySelector(w):H(w);if(!O)return;const W=new Set,k=new Set;let T=null;if(M==="class"){const l=F.split(/\s/g);Object.values(p).flatMap(v=>(v||"").split(/\s/g)).filter(Boolean).forEach(v=>{l.includes(v)?W.add(v):k.add(v)})}else T={key:M,value:F};if(W.size===0&&k.size===0&&T===null)return;let o;f&&(o=a.document.createElement("style"),o.appendChild(document.createTextNode(we)),a.document.head.appendChild(o));for(const l of W)O.classList.add(l);for(const l of k)O.classList.remove(l);T&&O.setAttribute(T.key,T.value),f&&(a.getComputedStyle(o).opacity,document.head.removeChild(o))});function b(w){var M;S(r,t,(M=p[w])!=null?M:w)}function L(w){e.onChanged?e.onChanged(w,b):b(w)}J(y,L,{flush:"post",immediate:!0}),q(()=>L(y.value));const E=C({get(){return i?m.value:y.value},set(w){m.value=w}});return Object.assign(E,{store:m,system:h,state:y})}function ke(e={}){const{valueDark:r="dark",valueLight:t=""}=e,u=ye({...e,onChanged:(c,n)=>{var s;e.onChanged?(s=e.onChanged)==null||s.call(e,c==="dark",n,c):n(c)},modes:{dark:r,light:t}}),a=C(()=>u.system.value);return C({get(){return u.value==="dark"},set(c){const n=c?"dark":"light";a.value===n?u.value="auto":u.value=n}})}function Ae(e={}){const{window:r=N}=e,t=r==null?void 0:r.navigator,u=P(()=>t&&"language"in t),a=D(t==null?void 0:t.language);return x(r,"languagechange",()=>{t&&(a.value=t.language)},{passive:!0}),{isSupported:u,language:a}}function Me(e={}){const{controls:r=!1,interval:t="requestAnimationFrame"}=e,u=D(new Date),a=()=>u.value=new Date,d=t==="requestAnimationFrame"?ie(a,{immediate:!0}):Y(a,t,{immediate:!0});return r?{now:u,...d}:u}export{Ae as a,Me as b,ke as u};
