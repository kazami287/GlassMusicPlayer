import{m as v,v as g}from"./@vue_reactivity@3.5.13-DVqfZfgJ.js";import{o as i,c as p,a as t,d as A,X as u,C as k,D as a,i as o,H as C,I as x}from"./@vue_runtime-core@3.5.13-D0UggR25.js";import{A as B,u as L,i as U,c as q,C as V}from"./index-D75IeTjg.js";import{a as z}from"./vue-router@4.5.0_vue@3.5.13_typescript@5.6.3_-Ck-ukzwP.js";import{M as _}from"./@vue_shared@3.5.13-oPavf41m.js";const D={viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function j(d,n){return i(),p("svg",D,n[0]||(n[0]=[t("path",{fill:"currentColor",d:"M23.5 22H23v-2h.5a4.5 4.5 0 0 0 .36-9H23l-.1-.82a7 7 0 0 0-13.88 0L9 11h-.86a4.5 4.5 0 0 0 .36 9H9v2h-.5A6.5 6.5 0 0 1 7.2 9.14a9 9 0 0 1 17.6 0A6.5 6.5 0 0 1 23.5 22"},null,-1),t("path",{fill:"currentColor",d:"M17 26.17V14h-2v12.17l-2.59-2.58L11 25l5 5l5-5l-1.41-1.41z"},null,-1)]))}const N=v({name:"carbon-cloud-download",render:j}),S={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function E(d,n){return i(),p("svg",S,n[0]||(n[0]=[t("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("path",{d:"M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2s7.071 0 8.535 1.464C22 4.93 22 7.286 22 12s0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"}),t("path",{"stroke-linecap":"round",d:"M17 2.5v19M7 2.5v19M2.5 7H7m14.5 0H17M2.5 17H7m14.5 0H17M2 12h20"})],-1)]))}const O=v({name:"solar-video-frame-linear",render:E}),I={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function P(d,n){return i(),p("svg",I,n[0]||(n[0]=[t("g",{fill:"none","fill-rule":"evenodd"},[t("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),t("path",{fill:"currentColor",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2m0 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16M8.964 8.65a1.192 1.192 0 0 1 1.654-.953l.325.143l.44.202l.349.169l.39.196l.43.223l.462.251l.494.28l.249.145l.469.282l.428.268l.564.368l.464.318l.455.328l.083.061c.635.477.64 1.429.001 1.909l-.283.209l-.393.276l-.496.335l-.387.25l-.43.27l-.473.283q-.123.073-.252.147l-.498.282l-.466.253l-.43.224l-.39.196l-.505.242l-.4.181l-.202.088a1.192 1.192 0 0 1-1.651-.954l-.054-.499l-.03-.334l-.042-.599l-.024-.46l-.018-.506l-.01-.549v-.579l.01-.548l.018-.506l.024-.46l.042-.599l.071-.73zm1.884 1.355l-.027.467l-.021.525l-.012.58v.618l.012.58l.02.525l.028.467l.416-.21l.226-.118l.488-.262l.53-.299l.522-.309l.242-.148l.444-.28l.39-.255l-.392-.257l-.444-.281l-.496-.3a30 30 0 0 0-.793-.453l-.488-.262l-.442-.227z"})],-1)]))}const X=v({name:"mingcute-play-circle-line",render:P}),Z={class:"flex gap-2 items-center"},F={key:0,class:"w-10 h-10"},G={class:"flex-1 line-clamp-1"},J={class:"line-clamp-1 w-48"},el=A({__name:"Table",props:{data:{type:Array,default:()=>[]}},setup(d){const n=B(),y=z(),{loadTrack:w,play:M}=L(),$=async r=>{const m=q(r);n.addTracks(m),await w(),M()},H=r=>{V(r.id).then(({data:m})=>{const h=m[0].url;fetch(h).then(e=>e.blob()).then(e=>{const c=document.createElement("a"),s=URL.createObjectURL(e);c.href=s,c.setAttribute("download",`${r.name} - ${r.ar.map(f=>f.name).join(" ")}`),document.body.appendChild(c),c.click(),URL.revokeObjectURL(s),document.body.removeChild(c)}).catch(e=>{console.error("Download failed:",e)})})};return(r,m)=>{const h=u("el-image"),e=u("el-table-column"),c=X,s=u("el-button"),f=O,R=N,T=u("el-table");return i(),k(T,{data:d.data,style:{"--el-table-border":"none","--el-table-border-color":"none","--el-table-tr-bg-color":"none","--el-table-header-bg-color":"none","--el-table-row-hover-bg-color":"hsl(var(--background))"},class:"!rounded-lg !h-full",onRowDblclick:$},{default:a(()=>[o(e,{prop:"name",label:"标题"},{default:a(({row:l})=>[t("div",Z,[l.al.picUrl?(i(),p("div",F,[o(h,{src:l.al.picUrl+"?param=90y90",fit:"cover",lazy:"",alt:l.name,class:"w-full h-full rounded-md"},null,8,["src","alt"])])):C("",!0),t("div",G,_(l.name),1)])]),_:1}),o(e,{prop:"ar",label:"艺术家"},{default:a(({row:l})=>[t("div",J,_(l.ar.map(b=>b.name).join("  ")),1)]),_:1}),o(e,{prop:"al",label:"专辑"},{default:a(({row:l})=>[x(_(l.al.name),1)]),_:1}),o(e,{prop:"dt",label:"时长"},{default:a(({row:l})=>[x(_(g(U)(l.dt)),1)]),_:1}),o(e,{label:"操作"},{default:a(({row:l})=>[o(s,{text:"",circle:""},{default:a(()=>[o(c,{class:"text-lg"})]),_:1}),l.mv?(i(),k(s,{key:0,text:"",circle:""},{default:a(()=>[o(f,{class:"text-lg",onClick:b=>g(y).push(`/mv/${l.mv}`)},null,8,["onClick"])]),_:2},1024)):C("",!0),o(s,{text:"",circle:"",onClick:b=>H(l)},{default:a(()=>[o(R,{class:"text-lg"})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}});export{el as _};
